import{r as a,k as e,H as g,U as C,M as I,I as E,S as U,E as z,K as V,L as A,N as D,O as w,T as M,V as $}from"./vendor-Dho3AQ2i.js";import{C as R,B as f}from"./card-DZncwkUw.js";import{c as v,u as B}from"./index-BtMAbZeq.js";import{c as y,d as H,e as L,S as N,f as K}from"./vendor-ui-BS1RUkUg.js";import{L as j}from"./vendor-router-7m_acxKV.js";const P=({text:l,speed:r=100,className:n=""})=>{const[o,m]=a.useState(""),[i,u]=a.useState(0);return a.useEffect(()=>{if(i<l.length){const c=setTimeout(()=>{m(x=>x+l[i]),u(x=>x+1)},r);return()=>clearTimeout(c)}},[i,l,r]),e.jsx("span",{className:`typing-text ${n}`,children:o})},k=a.forwardRef(({className:l,type:r,...n},o)=>e.jsx("input",{type:r,className:v("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l),ref:o,...n}));k.displayName="Input";const S=a.forwardRef(({className:l,children:r,...n},o)=>e.jsxs(y,{ref:o,className:v("relative overflow-hidden",l),...n,children:[e.jsx(H,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(T,{}),e.jsx(L,{})]}));S.displayName=y.displayName;const T=a.forwardRef(({className:l,orientation:r="vertical",...n},o)=>e.jsx(N,{ref:o,orientation:r,className:v("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",l),...n,children:e.jsx(K,{className:"relative flex-1 rounded-full bg-border"})}));T.displayName=N.displayName;const F=()=>{const[l,r]=a.useState([{id:"1",content:"Hello! I'm your Veterans Benefits AI assistant. I can help you understand your benefits using the 38 CFR regulations. What would you like to know?",isUser:!1,timestamp:new Date}]),[n,o]=a.useState(""),[m,i]=a.useState(!1),u=a.useRef(null);a.useEffect(()=>{var s;(s=u.current)==null||s.scrollIntoView({behavior:"smooth",block:"end"})},[l,m]);const c=async()=>{if(!n.trim())return;const s={id:Date.now().toString(),content:n,isUser:!0,timestamp:new Date};r(t=>[...t,s]),o(""),i(!0);try{const t=await fetch("/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s.content})});if(!t.ok){const b=await t.text();throw new Error(`HTTP ${t.status}: ${b}`)}const d=await t.json(),p=d&&(d.content||d.error)||"Sorry, I could not generate a response.",h={id:(Date.now()+1).toString(),content:p,isUser:!1,timestamp:new Date};r(b=>[...b,h])}catch(t){const d={id:(Date.now()+2).toString(),content:`Error: ${(t==null?void 0:t.message)||"Unknown error"}`,isUser:!1,timestamp:new Date};r(p=>[...p,d])}finally{i(!1)}},x=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),c())};return e.jsx(R,{className:"w-full max-w-3xl h-[80vh] md:max-w-4xl md:h-[85vh] bg-card/80 backdrop-blur-sm border-border/50 animate-fadeInUp animate-glow overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center animate-float",children:e.jsx(g,{className:"w-6 h-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Veterans Benefits AI"}),e.jsx("p",{className:"text-sm text-muted-foreground"})]})]}),e.jsx(S,{className:"flex-1 p-4 overflow-hidden",children:e.jsxs("div",{className:"space-y-4 min-w-0",children:[l.map(s=>e.jsxs("div",{className:`flex gap-3 animate-fadeInUp ${s.isUser?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.isUser?"bg-accent/20":"bg-primary/20"}`,children:s.isUser?e.jsx(C,{className:"w-4 h-4 text-accent"}):e.jsx(g,{className:"w-4 h-4 text-accent"})}),e.jsx("div",{className:`max-w-[80%] min-w-0 p-3 rounded-lg ${s.isUser?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:s.isUser?e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words overflow-wrap-anywhere",children:s.content}):e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-full whitespace-pre-wrap break-words overflow-wrap-anywhere",children:e.jsx(I,{remarkPlugins:[E],components:{p:({children:t})=>e.jsx("p",{className:"break-words overflow-wrap-anywhere",children:t}),div:({children:t})=>e.jsx("div",{className:"break-words overflow-wrap-anywhere",children:t}),span:({children:t})=>e.jsx("span",{className:"break-words overflow-wrap-anywhere",children:t}),a:({href:t,children:d})=>e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:d})},children:s.content})})})]},s.id)),m&&e.jsxs("div",{className:"flex gap-3 animate-fadeInUp",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(g,{className:"w-4 h-4 text-accent"})}),e.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),e.jsx("div",{ref:u})]})}),e.jsx("div",{className:"p-4 border-t border-border/50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{value:n,onChange:s=>o(s.target.value),onKeyPress:x,placeholder:"Ask about your veterans benefits...",className:"flex-1 bg-input/50 border-border/50 focus:border-accent"}),e.jsx(f,{onClick:c,disabled:!n.trim()||m,className:"bg-primary hover:bg-primary/80 text-primary-foreground",children:e.jsx(U,{className:"w-4 h-4"})})]})})]})})};function O(){const{setTheme:l,theme:r}=z(),[n,o]=a.useState(!1);return a.useEffect(()=>{o(!0)},[]),n?e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>l(r==="light"?"dark":"light"),className:"fixed top-6 right-6 z-50 bg-card/80 backdrop-blur-sm border-border/50 hover:bg-secondary/80",children:[e.jsx(V,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}):null}const q=()=>{const[l,r]=a.useState(!1),[n,o]=a.useState(!1),[m,i]=a.useState(!1),[u,c]=a.useState(""),[x,s]=a.useState(!1),{isUnlocked:t,unlock:d}=B();a.useEffect(()=>{const h=setTimeout(()=>{r(!0)},2e3),b=setTimeout(()=>{o(!0)},3500);return()=>{clearTimeout(h),clearTimeout(b)}},[]);const p=()=>{d(u)?(i(!1),s(!1),c("")):(s(!0),c(""))};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-x-hidden",children:[e.jsx(O,{}),e.jsxs("div",{className:"absolute top-4 left-4 z-20",children:[!t&&!m&&e.jsx(f,{variant:"ghost",size:"icon",className:"opacity-20 hover:opacity-100 transition-opacity",onClick:()=>i(!0),title:"Admin Access",children:e.jsx(D,{className:"h-4 w-4"})}),m&&e.jsxs("div",{className:"flex items-center gap-2 bg-background/90 backdrop-blur p-2 rounded-lg border shadow-lg",children:[e.jsx("input",{type:"password",value:u,onChange:h=>c(h.target.value),onKeyDown:h=>h.key==="Enter"&&p(),placeholder:"Enter token...",className:`w-32 px-2 py-1 text-sm border rounded bg-background ${x?"border-red-500":"border-input"}`,autoFocus:!0}),e.jsx(f,{size:"sm",onClick:p,children:e.jsx(w,{className:"h-3 w-3"})}),e.jsx(f,{size:"sm",variant:"ghost",onClick:()=>{i(!1),s(!1),c("")},children:"âœ•"})]}),t&&e.jsxs("span",{className:"text-xs text-green-500 flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3"})," Admin"]})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/5 rounded-full blur-3xl animate-pulse"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-8 px-4 max-w-4xl",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-6xl md:text-8xl font-black text-foreground tracking-tight",children:e.jsx(P,{text:"Veterans Benefits AI",speed:150,className:"text-transparent bg-clip-text bg-gradient-to-r from-accent to-primary"})}),e.jsx("div",{className:`transition-all duration-1000 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground font-medium",children:"Advanced RAG based AI that uses the 38 CFR as its source"})})]}),e.jsx("div",{className:`transition-all duration-1000 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{})})}),t&&e.jsx("div",{className:`transition-all duration-1000 delay-500 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[e.jsx(f,{asChild:!0,variant:"outline",size:"sm",className:"text-muted-foreground hover:text-foreground",children:e.jsxs(j,{to:"/stats",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"View Statistics"]})}),e.jsx(f,{asChild:!0,variant:"outline",size:"sm",className:"text-muted-foreground hover:text-foreground",children:e.jsxs(j,{to:"/whitepaper",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"ðŸ“„ Technical Whitepaper (LaTeX)"]})})]})})]}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.02"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')`}})]})};export{q as default};
