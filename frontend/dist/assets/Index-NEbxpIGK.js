import{r as l,k as e,H as p,U as S,M as T,I as C,S as I,E,K as U,L as V}from"./vendor-Cwty128T.js";import{C as D,B as g}from"./card-Dk5zRgX3.js";import{c as b}from"./index-CuWcPrR3.js";import{c as v,d as M,e as A,S as w,f as R}from"./vendor-ui-zvbhssV0.js";import"./vendor-router-BDh6Oijd.js";const z=({text:r,speed:t=100,className:n=""})=>{const[o,c]=l.useState(""),[i,u]=l.useState(0);return l.useEffect(()=>{if(i<r.length){const f=setTimeout(()=>{c(m=>m+r[i]),u(m=>m+1)},t);return()=>clearTimeout(f)}},[i,r,t]),e.jsx("span",{className:`typing-text ${n}`,children:o})},y=l.forwardRef(({className:r,type:t,...n},o)=>e.jsx("input",{type:t,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:o,...n}));y.displayName="Input";const j=l.forwardRef(({className:r,children:t,...n},o)=>e.jsxs(v,{ref:o,className:b("relative overflow-hidden",r),...n,children:[e.jsx(M,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(N,{}),e.jsx(A,{})]}));j.displayName=v.displayName;const N=l.forwardRef(({className:r,orientation:t="vertical",...n},o)=>e.jsx(w,{ref:o,orientation:t,className:b("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:e.jsx(R,{className:"relative flex-1 rounded-full bg-border"})}));N.displayName=w.displayName;const B=()=>{const[r,t]=l.useState([{id:"1",content:"Hello! I'm your Veterans Benefits AI assistant. I can help you understand your benefits using the 38 CFR regulations. What would you like to know?",isUser:!1,timestamp:new Date}]),[n,o]=l.useState(""),[c,i]=l.useState(!1),u=l.useRef(null);l.useEffect(()=>{var s;(s=u.current)==null||s.scrollIntoView({behavior:"smooth",block:"end"})},[r,c]);const f=async()=>{if(!n.trim())return;const s={id:Date.now().toString(),content:n,isUser:!0,timestamp:new Date};t(a=>[...a,s]),o(""),i(!0);try{const a=await fetch("/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s.content})});if(!a.ok){const h=await a.text();throw new Error(`HTTP ${a.status}: ${h}`)}const d=await a.json(),x=d&&(d.content||d.error)||"Sorry, I could not generate a response.",k={id:(Date.now()+1).toString(),content:x,isUser:!1,timestamp:new Date};t(h=>[...h,k])}catch(a){const d={id:(Date.now()+2).toString(),content:`Error: ${(a==null?void 0:a.message)||"Unknown error"}`,isUser:!1,timestamp:new Date};t(x=>[...x,d])}finally{i(!1)}},m=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),f())};return e.jsx(D,{className:"w-full max-w-3xl h-[80vh] md:max-w-4xl md:h-[85vh] bg-card/80 backdrop-blur-sm border-border/50 animate-fadeInUp animate-glow overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center animate-float",children:e.jsx(p,{className:"w-6 h-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Veterans Benefits AI"}),e.jsx("p",{className:"text-sm text-muted-foreground"})]})]}),e.jsx(j,{className:"flex-1 p-4 overflow-hidden",children:e.jsxs("div",{className:"space-y-4 min-w-0",children:[r.map(s=>e.jsxs("div",{className:`flex gap-3 animate-fadeInUp ${s.isUser?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.isUser?"bg-accent/20":"bg-primary/20"}`,children:s.isUser?e.jsx(S,{className:"w-4 h-4 text-accent"}):e.jsx(p,{className:"w-4 h-4 text-accent"})}),e.jsx("div",{className:`max-w-[80%] min-w-0 p-3 rounded-lg ${s.isUser?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:s.isUser?e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words overflow-wrap-anywhere",children:s.content}):e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-full whitespace-pre-wrap break-words overflow-wrap-anywhere",children:e.jsx(T,{remarkPlugins:[C],components:{p:({children:a})=>e.jsx("p",{className:"break-words overflow-wrap-anywhere",children:a}),div:({children:a})=>e.jsx("div",{className:"break-words overflow-wrap-anywhere",children:a}),span:({children:a})=>e.jsx("span",{className:"break-words overflow-wrap-anywhere",children:a}),a:({href:a,children:d})=>e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:d})},children:s.content})})})]},s.id)),c&&e.jsxs("div",{className:"flex gap-3 animate-fadeInUp",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(p,{className:"w-4 h-4 text-accent"})}),e.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),e.jsx("div",{ref:u})]})}),e.jsx("div",{className:"p-4 border-t border-border/50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:n,onChange:s=>o(s.target.value),onKeyPress:m,placeholder:"Ask about your veterans benefits...",className:"flex-1 bg-input/50 border-border/50 focus:border-accent"}),e.jsx(g,{onClick:f,disabled:!n.trim()||c,className:"bg-primary hover:bg-primary/80 text-primary-foreground",children:e.jsx(I,{className:"w-4 h-4"})})]})})]})})};function H(){const{setTheme:r,theme:t}=E(),[n,o]=l.useState(!1);return l.useEffect(()=>{o(!0)},[]),n?e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>r(t==="light"?"dark":"light"),className:"fixed top-6 right-6 z-50 bg-card/80 backdrop-blur-sm border-border/50 hover:bg-secondary/80",children:[e.jsx(U,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(V,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}):null}const O=()=>{const[r,t]=l.useState(!1),[n,o]=l.useState(!1);return l.useEffect(()=>{const c=setTimeout(()=>{t(!0)},2e3),i=setTimeout(()=>{o(!0)},3500);return()=>{clearTimeout(c),clearTimeout(i)}},[]),e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-x-hidden",children:[e.jsx(H,{}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-float",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/5 rounded-full blur-3xl animate-pulse"})]}),e.jsxs("div",{className:"relative z-10 text-center space-y-8 px-4 max-w-4xl",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-6xl md:text-8xl font-black text-foreground tracking-tight",children:e.jsx(z,{text:"Veterans Benefits AI",speed:150,className:"text-transparent bg-clip-text bg-gradient-to-r from-accent to-primary"})}),e.jsx("div",{className:`transition-all duration-1000 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground font-medium",children:"Advanced RAG based AI that uses the 38 CFR as its source"})})]}),e.jsx("div",{className:`transition-all duration-1000 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:e.jsx("div",{className:"flex justify-center",children:e.jsx(B,{})})})]}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.02"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')`}})]})};export{O as default};
